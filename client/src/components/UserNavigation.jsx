import React, { Component } from 'react';
import { Dropdown } from 'react-bootstrap';

import { connect } from 'react-redux';
import { logout } from '../redux/actions/auth.action';

class UserNavigation extends Component {
  render() {
    const { role } = this.props.user;
    return (
      <div className="ml-auto">
        <Dropdown className="user-navigation">
          <Dropdown.Toggle id="dropdown-basic">
            <img
              src="https://images.unsplash.com/photo-1518550835331-b89cdfee2443?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60"
              alt="User"
              className="photo-profile mr-3"
            ></img>
            {this.props.fullName}
          </Dropdown.Toggle>

          <Dropdown.Menu>
            <Dropdown.Item href={`/profile/${this.props.user.id}`}>
              <i className="icon-red">
                <svg
                  width="30"
                  height="30"
                  viewBox="0 0 30 30"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g clipPath="url(#clip0)">
                    <path
                      d="M14.7862 14.4511C16.7715 14.4511 18.4904 13.7391 19.8953 12.3342C21.2997 10.9296 22.012 9.21089 22.012 7.22534C22.012 5.24048 21.3 3.52158 19.8951 2.11647C18.4902 0.712051 16.7713 0 14.7862 0C12.8007 0 11.082 0.712051 9.67735 2.1167C8.27271 3.52135 7.56042 5.24025 7.56042 7.22534C7.56042 9.21089 8.27271 10.9298 9.67735 12.3344C11.0825 13.7389 12.8014 14.4511 14.7862 14.4511ZM10.9206 3.35976C11.9984 2.28195 13.2628 1.75804 14.7862 1.75804C16.3094 1.75804 17.574 2.28195 18.652 3.35976C19.7298 4.43779 20.254 5.70236 20.254 7.22534C20.254 8.74878 19.7298 10.0131 18.652 11.0912C17.574 12.1692 16.3094 12.6931 14.7862 12.6931C13.2632 12.6931 11.9989 12.169 10.9206 11.0912C9.84261 10.0134 9.31847 8.74878 9.31847 7.22534C9.31847 5.70236 9.84261 4.43779 10.9206 3.35976Z"
                      fill="#E50914"
                    />
                    <path
                      d="M27.4294 23.0686C27.3889 22.484 27.307 21.8463 27.1864 21.173C27.0646 20.4946 26.9078 19.8532 26.7201 19.2671C26.526 18.6612 26.2626 18.0629 25.9364 17.4896C25.5984 16.8945 25.201 16.3763 24.7552 15.9499C24.2889 15.5038 23.7181 15.1451 23.058 14.8835C22.4002 14.6233 21.6712 14.4914 20.8914 14.4914C20.5852 14.4914 20.289 14.6171 19.717 14.9895C19.365 15.2191 18.9532 15.4846 18.4937 15.7782C18.1007 16.0286 17.5683 16.2632 16.9107 16.4756C16.2691 16.6832 15.6178 16.7885 14.9746 16.7885C14.3319 16.7885 13.6805 16.6832 13.0385 16.4756C12.3816 16.2634 11.849 16.0288 11.4567 15.7784C11.0014 15.4875 10.5894 15.222 10.2322 14.9893C9.66064 14.6169 9.36447 14.4912 9.05823 14.4912C8.2782 14.4912 7.54944 14.6233 6.89186 14.8837C6.23222 15.1449 5.66116 15.5036 5.19447 15.9501C4.74861 16.3767 4.35127 16.8947 4.01344 17.4896C3.68774 18.0629 3.42407 18.661 3.22998 19.2673C3.04253 19.8535 2.88574 20.4946 2.76398 21.173C2.64313 21.8454 2.56142 22.4833 2.5209 23.0692C2.48108 23.6421 2.46094 24.2384 2.46094 24.8408C2.46094 26.4068 2.95876 27.6746 3.94043 28.6096C4.90997 29.5322 6.19263 30 7.75291 30H22.1981C23.7579 30 25.0406 29.5322 26.0104 28.6096C26.9923 27.6753 27.4901 26.407 27.4901 24.8406C27.4899 24.2361 27.4695 23.6398 27.4294 23.0686ZM24.7982 27.3358C24.1576 27.9456 23.307 28.242 22.1979 28.242H7.75291C6.64352 28.242 5.793 27.9456 5.15259 27.3361C4.52431 26.738 4.21898 25.9216 4.21898 24.8408C4.21898 24.2787 4.23752 23.7236 4.2746 23.1908C4.31076 22.668 4.38469 22.0937 4.49432 21.4836C4.60258 20.8809 4.74037 20.3153 4.90425 19.8033C5.06149 19.3124 5.27596 18.8262 5.54192 18.3579C5.79575 17.9116 6.0878 17.5287 6.41006 17.2202C6.7115 16.9315 7.09145 16.6953 7.53914 16.5182C7.95319 16.3543 8.4185 16.2646 8.92365 16.2511C8.98521 16.2838 9.09485 16.3463 9.27246 16.4621C9.63387 16.6976 10.0504 16.9663 10.5109 17.2605C11.03 17.5914 11.6988 17.8903 12.4979 18.1483C13.3147 18.4124 14.1479 18.5465 14.9748 18.5465C15.8018 18.5465 16.6351 18.4124 17.4516 18.1485C18.2513 17.8901 18.9198 17.5914 19.4396 17.26C19.9109 16.9588 20.3158 16.6979 20.6772 16.4621C20.8548 16.3465 20.9644 16.2838 21.026 16.2511C21.5314 16.2646 21.9967 16.3543 22.411 16.5182C22.8584 16.6953 23.2384 16.9318 23.5398 17.2202C23.8621 17.5285 24.1541 17.9114 24.408 18.3582C24.6741 18.8262 24.8888 19.3126 25.0459 19.8031C25.21 20.3158 25.348 20.8811 25.456 21.4833C25.5654 22.0947 25.6396 22.6692 25.6757 23.191V23.1915C25.713 23.7222 25.7318 24.2771 25.732 24.8408C25.7318 25.9218 25.4265 26.738 24.7982 27.3358Z"
                      fill="#E50914"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0">
                      <rect width="30" height="30.0001" fill="white" />
                    </clipPath>
                  </defs>
                </svg>
              </i>
              Profile
            </Dropdown.Item>
            <Dropdown.Item href={`/pay/${this.props.user.id}`}>
              <i className="icon-red">
                <img src="/images/icon/attach.png" alt="" className="mr-3" width="12" />
              </i>
              Pay
            </Dropdown.Item>
            {role === 'admin' ? (
              <Dropdown.Item href="/admin/list-film">
                <i className="icon-red">
                  <svg
                    width="30"
                    height="30"
                    viewBox="0 0 30 30"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M29.509 9.68198H4.8384V9.16438L29.5913 4.89297C29.6547 4.88301 29.7156 4.86052 29.7702 4.8268C29.8249 4.79308 29.8723 4.74881 29.9097 4.69657C29.947 4.64434 29.9736 4.58519 29.9879 4.52256C30.0022 4.45994 30.0038 4.3951 29.9928 4.33184L29.3059 0.40872C29.2959 0.345269 29.2734 0.284438 29.2397 0.229774C29.206 0.175109 29.1617 0.127708 29.1095 0.0903335C29.0572 0.0529593 28.9981 0.0263613 28.9355 0.012091C28.8728 -0.00217923 28.808 -0.003836 28.7447 0.00721745L0.402525 4.90265C0.276943 4.92797 0.165043 4.99855 0.0880952 5.10098C0.0157897 5.20716 -0.0135948 5.3368 0.00585978 5.46378L0.102607 6.01041C0.0390612 6.09221 0.00345268 6.19225 0.0010224 6.29581V29.5152C0.0010224 29.6435 0.0519875 29.7666 0.142706 29.8573C0.233424 29.948 0.356465 29.999 0.48476 29.999H29.509C29.6373 29.999 29.7604 29.948 29.8511 29.8573C29.9418 29.7666 29.9928 29.6435 29.9928 29.5152V10.1657C29.9928 10.0374 29.9418 9.91438 29.8511 9.82366C29.7604 9.73294 29.6373 9.68198 29.509 9.68198ZM0.968499 6.77955H3.87093V11.6169H0.968499V6.77955ZM1.73764 12.5844L0.968499 13.3535V12.5844H1.73764ZM0.968499 16.4543H29.0253V17.4218H0.968499V16.4543ZM0.968499 15.4868V14.5194H29.0253V15.4868H0.968499ZM21.4838 13.5519L24.3863 10.6495H27.8595L24.9571 13.5519H21.4838ZM20.1197 13.5519H16.6464L19.5489 10.6495H23.0221L20.1197 13.5519ZM15.2823 13.5519H11.8091L14.7115 10.6495H18.1847L15.2823 13.5519ZM10.4449 13.5519H6.97169L9.87412 10.6495H13.3474L10.4449 13.5519ZM26.3212 13.5519L29.0253 10.8478V13.5519H26.3212ZM8.50997 10.6495L5.60755 13.5519H2.13431L3.10178 12.5844H4.35466C4.48296 12.5844 4.606 12.5334 4.69672 12.4427C4.78744 12.352 4.8384 12.229 4.8384 12.1007V10.6495H8.50997ZM4.5143 5.84594L5.03674 5.08647L8.44709 4.49631L6.0284 7.97438L4.8384 8.18239V6.29581C4.83701 6.19664 4.80518 6.1003 4.7472 6.01983C4.68923 5.93936 4.60792 5.87865 4.5143 5.84594ZM20.2503 5.52183L16.8641 6.10715L19.2828 2.62908L22.6061 2.05827L20.2503 5.52183ZM23.917 1.83091L27.3032 1.24075L24.9571 4.70915L21.5709 5.29447L23.917 1.83091ZM15.5339 6.33451L12.1477 6.92467L14.5664 3.45143L17.9525 2.86127L15.5339 6.33451ZM10.7884 7.15687L7.40221 7.74219L9.8209 4.26895L13.2313 3.67879L10.7884 7.15687ZM26.297 4.48179L28.4738 1.26494L28.9576 4.02224L26.297 4.48179ZM3.70162 5.32834L3.35816 5.81207H1.05073V5.77821L3.70162 5.32834ZM0.968499 29.0315V18.3893H29.0253V29.0315H0.968499Z"
                      fill="#E50914"
                    />
                  </svg>
                </i>
                Film
              </Dropdown.Item>
            ) : (
              false
            )}
            <Dropdown.Item href="/admin/transactions">
              <i className="icon-red">
                <svg
                  width="30"
                  height="30"
                  viewBox="0 0 30 30"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g clipPath="url(#clip0)">
                    <path
                      d="M22.9871 4.90145C23.0001 4.90239 23.0132 4.90332 23.0265 4.90332C23.049 4.90332 23.0716 4.90145 23.0937 4.89841C23.6844 4.91034 24.1571 5.38512 24.1578 5.96725C24.1578 6.23177 24.3755 6.44624 24.6439 6.44624C24.9123 6.44624 25.1299 6.23177 25.1299 5.96725C25.1287 5.01512 24.4562 4.19139 23.5125 3.98651V3.52623C23.5125 3.26171 23.2949 3.04724 23.0265 3.04724C22.7581 3.04724 22.5404 3.26171 22.5404 3.52623V4.00826C21.5427 4.27114 20.8972 5.22234 21.0318 6.23154C21.1663 7.24074 22.0392 7.99524 23.0721 7.99524C23.6718 7.99524 24.1578 8.47446 24.1578 9.06548C24.1578 9.65627 23.6718 10.1355 23.0721 10.1355C22.4723 10.1355 21.9863 9.65627 21.9863 9.06548C21.9863 8.80096 21.7687 8.58649 21.5002 8.58649C21.2318 8.58649 21.0142 8.80096 21.0142 9.06548C21.0154 9.98323 21.641 10.7861 22.5404 11.0245V11.5493C22.5404 11.8138 22.7581 12.0283 23.0265 12.0283C23.2949 12.0283 23.5125 11.8138 23.5125 11.5493V11.0465C24.539 10.825 25.2313 9.87682 25.1181 8.84727C25.0051 7.81772 24.1229 7.03749 23.0721 7.03773C22.4889 7.03796 22.0098 6.58423 21.9868 6.01005C21.964 5.43587 22.4056 4.94636 22.9871 4.90169V4.90145Z"
                      fill="#E50914"
                    />
                    <path
                      d="M23.0998 0.705322C20.1097 0.705322 17.558 2.62806 16.602 5.20263H4.53841C4.27118 5.20263 4.05427 5.44002 4.05237 5.70314L3.9375 22.5061H0.498863C0.230445 22.5061 0 22.6977 0 22.9627V25.095C0.00617049 27.1024 1.6105 28.7515 3.64535 28.8422V28.8527H18.652V28.8387C18.7736 28.8431 18.8236 28.8527 18.9005 28.8527H18.911C21.017 28.8495 22.7227 27.166 22.7227 25.0905V14.3095C22.8442 14.3161 22.9728 14.3196 23.0986 14.3196C26.9037 14.3196 30.0001 11.2623 30.0001 7.51221C30.0001 3.76239 26.9051 0.705322 23.0998 0.705322ZM3.83023 27.8948H3.82714C2.25485 27.8927 0.979213 26.6397 0.972094 25.09V23.4641H15.0675V25.0833C15.0682 26.0829 15.4733 27.0411 16.1929 27.7458C16.2439 27.7961 16.3073 27.8349 16.3606 27.8948H3.83023ZM21.7506 25.09C21.7508 26.6369 20.4799 27.8917 18.9105 27.8948H18.9012C17.3254 27.892 16.0474 26.6365 16.0395 25.0837V22.9627C16.0436 22.8401 15.9961 22.7215 15.9081 22.635C15.82 22.5485 15.6997 22.5019 15.5756 22.5061H4.9096L5.02114 6.16061H16.3322C16.246 6.59914 16.2014 7.04445 16.199 7.49093C16.1981 8.43511 16.3979 9.36876 16.7857 10.232H12.1948C11.9262 10.232 11.7088 10.4465 11.7088 10.711C11.7088 10.9755 11.9262 11.19 12.1948 11.19H17.313C18.3158 12.7439 19.9187 13.8272 21.7506 14.1898V25.09ZM23.0998 13.3618C19.8256 13.3618 17.1711 10.7461 17.1714 7.51923C17.1714 4.29236 19.8256 1.67663 23.1 1.67663C26.3742 1.67663 29.0285 4.2926 29.0285 7.51923C29.0249 10.7445 26.3728 13.3583 23.0998 13.3618Z"
                      fill="#E50914"
                    />
                    <path
                      d="M9.07496 13.4198C8.21702 13.4198 7.51927 14.0857 7.51927 14.9043C7.51927 15.7228 8.21702 16.3887 9.07496 16.3887C9.9329 16.3887 10.6309 15.7228 10.6309 14.9043C10.6309 14.0857 9.9329 13.4198 9.07496 13.4198ZM9.07496 15.4307C8.7529 15.4307 8.49137 15.1945 8.49137 14.9043C8.49137 14.6138 8.75314 14.3778 9.07496 14.3778C9.39677 14.3778 9.65878 14.614 9.65878 14.9043C9.65878 15.1945 9.39677 15.4307 9.07496 15.4307Z"
                      fill="#E50914"
                    />
                    <path
                      d="M11.7088 14.9022C11.7088 15.1667 11.9262 15.3812 12.1948 15.3812H18.6748C18.9432 15.3812 19.1609 15.1667 19.1609 14.9022C19.1609 14.6377 18.9432 14.4232 18.6748 14.4232H12.1948C11.9262 14.4232 11.7088 14.6377 11.7088 14.9022Z"
                      fill="#E50914"
                    />
                    <path
                      d="M9.07496 9.2561C8.21702 9.2561 7.51927 9.9222 7.51927 10.7408C7.51927 11.5594 8.21702 12.2252 9.07496 12.2252C9.9329 12.2252 10.6309 11.5594 10.6309 10.7408C10.6309 9.9222 9.9329 9.2561 9.07496 9.2561ZM9.07496 11.2673C8.7529 11.2673 8.49137 11.031 8.49137 10.7408C8.49137 10.4505 8.75314 10.2141 9.07496 10.2141C9.39677 10.2141 9.65878 10.4503 9.65878 10.7408C9.65878 11.031 9.39677 11.2675 9.07496 11.2675V11.2673Z"
                      fill="#E50914"
                    />
                    <path
                      d="M9.07496 17.5831C8.21702 17.5831 7.51927 18.249 7.51927 19.0676C7.51927 19.8862 8.21702 20.552 9.07496 20.552C9.9329 20.552 10.6309 19.8862 10.6309 19.0676C10.6309 18.249 9.9329 17.5831 9.07496 17.5831ZM9.07496 19.594C8.7529 19.594 8.49137 19.358 8.49137 19.0676C8.49137 18.7773 8.75314 18.5411 9.07496 18.5411C9.39677 18.5411 9.65878 18.7773 9.65878 19.0676C9.65878 19.3578 9.39677 19.594 9.07496 19.594Z"
                      fill="#E50914"
                    />
                    <path
                      d="M18.6748 18.6144H12.1948C11.9262 18.6144 11.7088 18.8288 11.7088 19.0934C11.7088 19.3579 11.9262 19.5724 12.1948 19.5724H18.6748C18.9432 19.5724 19.1609 19.3579 19.1609 19.0934C19.1609 18.8288 18.9432 18.6144 18.6748 18.6144Z"
                      fill="#E50914"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0">
                      <rect width="30" height="29.5644" fill="white" />
                    </clipPath>
                  </defs>
                </svg>
              </i>
              Transaction
            </Dropdown.Item>
            <Dropdown.Divider />
            <Dropdown.Item onClick={this.props.logout}>
              <i className="icon-red">
                <svg
                  width="30"
                  height="30"
                  viewBox="0 0 30 30"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g clipPath="url(#clip0)">
                    <path
                      d="M29.0617 13.8588H17.187C16.6695 13.8588 16.2495 13.4449 16.2495 12.935C16.2495 12.425 16.6695 12.0111 17.187 12.0111H29.0617C29.5792 12.0111 29.9991 12.425 29.9991 12.935C29.9991 13.4449 29.5792 13.8588 29.0617 13.8588Z"
                      fill="#E50914"
                    />
                    <path
                      d="M24.3742 18.4781C24.1341 18.4781 23.8942 18.3881 23.7116 18.2072C23.3454 17.8461 23.3454 17.261 23.7116 16.9001L27.7366 12.9338L23.7116 8.96727C23.3454 8.60638 23.3454 8.0213 23.7116 7.66042C24.078 7.29931 24.6717 7.29931 25.0379 7.66042L29.7253 12.2797C30.0915 12.6406 30.0915 13.2257 29.7253 13.5866L25.0379 18.2059C24.8541 18.3881 24.6143 18.4781 24.3742 18.4781Z"
                      fill="#E50914"
                    />
                    <path
                      d="M9.99976 29.5647C9.73221 29.5647 9.47838 29.5277 9.22479 29.4501L1.70237 26.9803C0.678838 26.628 -3.8147e-06 25.6882 -3.8147e-06 24.6375V2.46492C-3.8147e-06 1.1062 1.12125 0.0012207 2.49999 0.0012207C2.76732 0.0012207 3.02114 0.0382112 3.27496 0.115801L10.7972 2.58559C11.8209 2.9379 12.4995 3.87777 12.4995 4.92839V27.101C12.4995 28.4597 11.3785 29.5647 9.99976 29.5647ZM2.49999 1.84894C2.15622 1.84894 1.87494 2.12614 1.87494 2.46492V24.6375C1.87494 24.8999 2.05369 25.1437 2.30866 25.2312L9.79583 27.6899C9.84962 27.7071 9.91965 27.717 9.99976 27.717C10.3435 27.717 10.6246 27.4398 10.6246 27.101V4.92839C10.6246 4.66608 10.4458 4.42226 10.1909 4.33474L2.70369 1.87601C2.64991 1.85886 2.57987 1.84894 2.49999 1.84894Z"
                      fill="#E50914"
                    />
                    <path
                      d="M19.0618 9.85549C18.5443 9.85549 18.1243 9.4416 18.1243 8.93163V3.38847C18.1243 2.53972 17.4232 1.84863 16.562 1.84863H2.49992C1.98244 1.84863 1.56245 1.43475 1.56245 0.924775C1.56245 0.414803 1.98244 0.000915527 2.49992 0.000915527H16.562C18.4582 0.000915527 19.9992 1.51978 19.9992 3.38847V8.93163C19.9992 9.4416 19.5792 9.85549 19.0618 9.85549Z"
                      fill="#E50914"
                    />
                    <path
                      d="M16.562 25.869H11.562C11.0445 25.869 10.6246 25.4551 10.6246 24.9451C10.6246 24.4351 11.0445 24.0212 11.562 24.0212H16.562C17.4233 24.0212 18.1243 23.3302 18.1243 22.4814V16.9383C18.1243 16.4283 18.5443 16.0144 19.0618 16.0144C19.5793 16.0144 19.9993 16.4283 19.9993 16.9383V22.4814C19.9993 24.3501 18.4583 25.869 16.562 25.869Z"
                      fill="#E50914"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0">
                      <rect width="30" height="29.5644" fill="white" />
                    </clipPath>
                  </defs>
                </svg>
              </i>
              Logout
            </Dropdown.Item>
          </Dropdown.Menu>
        </Dropdown>
      </div>
    );
  }
}

const mapStateToProps = (state) => {
  return {
    isLogin: state.authReducer.isLogin,
    user: state.authReducer.user,
  };
};

const mapDispatchToProps = (dispatch) => {
  return {
    logout: () => dispatch(logout()),
  };
};

export default connect(mapStateToProps, mapDispatchToProps)(UserNavigation);
